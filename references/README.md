# References 目录说明

> **用途**: 供 Claude Skills 执行时查阅的技术参考文档
> **原则**: 快速查找、信息密集、无冗余

---

## 📚 文档列表

### 1. tuzi-sora2-claude-skill-complete.md
**完整技术参考** - 429 行 (从 2835 行精简)

**内容**:
- 项目概述与核心能力
- 功能与参数规范矩阵
- MCP 工具完整定义
- API 接口速览与请求示例
- 参数枚举、校验规则
- 错误处理指南
- Prompt 模板规则（变量化，非枚举）
- 合规要求

**何时查阅**: 需要完整了解系统架构、工具定义、业务规则时

---

### 2. api_documentation.md
**API 快速参考** - 311 行

**内容**:
- 核心端点列表
- 请求字段详细说明
- 响应格式示例（queued/in_progress/completed/failed）
- HTTP 错误码与常见错误码
- 轮询与重试策略
- 参数约束速查表
- 调试建议与检查清单
- 快速示例 (curl)

**何时查阅**: 实现时需要查询具体字段格式、错误处理、响应结构

---

## 🔄 文档重构说明

### 从 v1.0 到 v2.0 的改进

**删除的内容** (减少约 85% 篇幅):
- ❌ Python 代码实现示例（475+ 行）
- ❌ 测试计划与验收标准（150+ 行）
- ❌ 部署与交付清单（100+ 行）
- ❌ 附录C：200+ 个重复 Prompt 示例（改为规则模板）
- ❌ 附录D：轮询策略（已整合到正文）
- ❌ 附录E：源文档逐字收录（1500+ 行）
- ❌ policy.md（合规内容应整合到主文档 SKILL.md）

**增强的内容**:
- ✅ API 响应格式完整示例（4种状态）
- ✅ 详细的错误码说明与处理策略
- ✅ 字段格式约束与校验规则
- ✅ 调试建议与检查清单
- ✅ 日志记录最佳实践

**优化的内容**:
- ✨ Prompt 示例从枚举改为规则模板（变量化）
- ✨ 参数说明改为速查表格式
- ✨ 去除重复内容，遵循"单一信息源"原则

---

## 📝 合规与安全说明

**重要**: 内容合规要求已从 `policy.md` 移除，应整合到主文档 `SKILL.md` 中作为面向用户的"使用须知"章节。

**原因**:
- 合规提示是**用户必须知道**的内容，不应隐藏在参考文档中
- 应在 SKILL.md 的显著位置展示，确保用户理解使用限制
- References 目录应专注于技术规范，而非用户声明

**建议整合位置**（SKILL.md）:
```markdown
## ⚠️ 使用须知

### 内容合规要求
- ❌ 禁止包含真人或像真人的形象
- ❌ 禁止暴力血腥、色情、恐怖主义内容
- ❌ 禁止侵权内容和在世名人
- ⚠️  审查可能在生成后期失败（90%+进度），这是正常现象

### 用户责任
上传/提供的素材与指令应确保：
1. 不包含真人或可识别的真实人物
2. 不侵犯任何第三方版权或肖像权
3. 不包含违法违规或不适宜内容

### 安全原则
- API Key 通过环境变量 `TUZI_API_KEY` 配置
- 不记录敏感信息（完整 Key、原始图片、完整 prompt）
- 默认不落地存储视频
```

---

## 🎯 文档使用指南

### 对于 Claude Skills 执行
```
开始任务 → 读取 complete.md（了解整体架构）
        ↓
   实现具体功能 → 查阅 api_documentation.md（查字段/错误）
        ↓
   遇到错误 → 查阅错误处理章节
        ↓
   编写 Prompt → 参考 Prompt 模板规则
```

### 对于开发者
- **首次阅读**: 先读 complete.md 第1-3章（概述、功能、MCP工具）
- **实现阶段**: api_documentation.md 常驻参考
- **调试阶段**: 重点查阅"错误处理"和"调试建议"章节
- **Prompt 优化**: 使用模板规则而非复制示例

---

## 📊 文档指标

| 指标 | v1.0 | v2.0 | 改进 |
|------|------|------|------|
| 总行数 | 2900+ | 740 | ↓ 74% |
| 信息密度 | 低 | 高 | ↑↑ |
| 查找效率 | 中 | 高 | ↑↑ |
| 重复内容 | 多 | 无 | ✅ |
| 实用性 | 中 | 高 | ↑↑ |

---

**维护建议**:
- 上游 API 变更时，仅需更新对应章节
- 新增功能时，遵循"最小信息单元"原则
- 避免添加示例代码，保持文档的参考属性
- 定期检查并删除过时信息

**最后更新**: 2025-12-18
